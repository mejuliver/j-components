void 0!==window.jQuery||window.moment?($.fn.datepicker=function(t){var e=$.extend({format:"MMMM D, YYYY"},t),o=!1,s=function(t,e){for(var o=new Date(t,e-1,1),s=[];o.getMonth()==e-1;)s.push(o.getDate()),o.setDate(o.getDate()+1);return s},a='<select name="months">';$.each([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]],function(t,e){e[1].toUpperCase()===moment().format("MMM").toUpperCase()?a+='<option value="'+e[1]+'" data-month="'+e[0]+'" selected>'+e[1]+"</option>":a+='<option value="'+e[1]+'" data-month="'+e[0]+'">'+e[1]+"</option>"}),a+="</select>";var n='<select name="days">';$.each(s(moment().format("YYYY"),moment().format("M")),function(t,e){var o="0"+e.toString();e===parseInt(moment().format("D"))?n+='<option value="'+o.slice(-2)+'" selected>'+o.slice(-2)+"</option>":n+='<option value="'+o.slice(-2)+'">'+o.slice(-2)+"</option>"}),n+="</select>";var c=this;return this.each(function(){$(this).attr("readonly",!0).addClass("datepicker").wrap('<div class="j-component" data-type="datepicker"></div>');var t=$(this).attr("placeholder");if(void 0!==t&&!1!==t&&""!==t?$(this).attr("placeholder",t):$(this).attr("placeholder","Click to select date"),$(this).hasClass("future")&&void 0!==$(this).attr("data-future")&&""!==$(this).attr("data-future")&&"false"!==$(this).attr("data-future")){for(var i=(new Date).getFullYear(),r=(new moment).add(parseInt($(this).attr("data-future")),"year").format("YYYY"),l='<select name="years">',m=i;m<=parseInt(r);m++)m===parseInt(moment().format("YYYY"))?l+='<option value="'+m+'" selected>'+m+"</option>":l+='<option value="'+m+'">'+m+"</option>";l+="</select>"}else{for(var i=1930,p=(new Date).getFullYear(),l='<select name="years">',m=i;m<=p;m++)m===parseInt(moment().format("YYYY"))?l+='<option value="'+m+'" selected>'+m+"</option>":l+='<option value="'+m+'">'+m+"</option>";l+="</select>"}$pos="",void 0!==$(this).attr("data-placement")&&""!=$(this).attr("data-placement")&&($pos=" "+$(this).attr("data-placement")),$(this).after('<div class="component-sub'+$pos+'"><div class="col-xs-4 mt8 p3">'+a+'</div><div class="col-xs-4 mt8 p3">'+n+'</div><div class="col-xs-4 mt8 p3">'+l+'</div><div class="clear"><div class="col-xs-3 mt8 p3"><button class="current">Today</button></div><div class="col-xs-3 mt8 p3"><button class="select">Select</button></div></div></div>'),c.on("click",function(){if(""!==$(this).val()){var t=$(this).val().replace(",","").split(" ");$(this).next(".component-sub").find('select[name="months"] option[value="'+t[0]+'"]').prop("selected",!0).closest("select").trigger("change"),o=t[1],$(this).next(".component-sub").find('select[name="years"] option[value="'+t[2]+'"]').prop("selected",!0).closest("select").trigger("change")}else o=!1;$(this).next(".component-sub").toggle()}),c.next(".component-sub").find(".select").on("click",function(t){t.preventDefault();var o=void 0!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")?$(this).closest(".component-sub").prev(".datepicker").attr("data-format"):e.format,s=$(this).closest(".component-sub").find('select[name="months"]').val()+" "+$(this).closest(".component-sub").find('select[name="days"]').val()+", "+$(this).closest(".component-sub").find('select[name="years"]').val();$(this).closest(".component-sub").prev(".datepicker").val(moment(s).format(o)).next(".component-sub").hide()}),c.next(".component-sub").find(".current").on("click",function(t){t.preventDefault();var o=void 0!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")?$(this).closest(".component-sub").prev(".datepicker").attr("data-format"):e.format,s=moment().format("MMMM")+" "+moment().format("D")+", "+moment().format("YYYY");$(this).closest(".component-sub").prev(".datepicker").val(moment(s).format(o)).next(".component-sub").hide()}),c.next(".component-sub").find('select[name="months"],select[name="years"]').on("click",function(){if(""!==$(this).val()){var t="";$.each(s($(this).closest(".component-sub").find('select[name="years"]').val(),$(this).closest(".component-sub").find('select[name="months"] option:selected').attr("data-month")),function(e,o){var s="0"+o.toString();t+='<option value="'+s.slice(-2)+'">'+s.slice(-2)+"</option>"}),$(this).closest(".component-sub").find('select[name="days"]').html(t),!1!==o?$(this).closest(".component-sub").find('select[name="days"] option[value="'+o+'"]').prop("selected",!0).closest("select").trigger("change"):$(this).closest(".component-sub").find('select[name="days"] option:first-child').prop("selected",!0).closest("select").trigger("change")}})})},$(document).on("mousedown touchstart",function(t){var e=$(".component-sub:visible");e.is(t.target)||0!==e.has(t.target).length||$(".component-sub").hide()})):console.log("jQuery, momentjs, is required");