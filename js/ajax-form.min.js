if(void 0!==window.jQuery){window.xhrPool=[],$(document).ajaxComplete(function(o,e,t){xhrPool=$.grep(xhrPool,function(o){return o!=e})});var abort=function(){$.each(xhrPool,function(o,e){e.abort()})},oldbeforeunload=window.onbeforeunload;window.onbeforeunload=function(){var o=oldbeforeunload?oldbeforeunload():void 0;return void 0==o&&abort(),o},$.fn.ajax_form=function(o){"undefined"!=typeof app_token&&""!==app_token&&$.ajaxSetup({headers:{"X-CSRF-TOKEN":app_token}}),this.addClass("j-component").attr("data-type","ajax"),this.on("submit",function(o){abort(),o.preventDefault();var e=$(this),t=e.attr("data-type"),a=e.attr("method"),n=e.attr("data-onsuccess"),d=e.attr("data-before-send"),i=e.attr("data-after-send"),r=e.attr("data-complete"),s=e.attr("data-error");(void 0===a||void 0!==a&&"false"===a||void 0!==a&&""===a)&&(a="post"),(void 0===t||void 0!==t&&"false"===t||void 0!==t&&""===t||void 0!==t&&void 0!==t&&"post"!==t.toLowerCase()||void 0!==t&&"get"!==t.toLowerCase())&&(t="html");var c=new FormData(e[0]);$.ajax({url:e.attr("action"),type:a,data:c,dataType:t,cache:!1,async:!0,contentType:!1,processData:!1,beforeSend:function(){if(void 0!==d&&!1!==d&&""!==d){var o=d.split(/\s+/);$.each(o,function(o,e){window[e]()})}},complete:function(){if(void 0!==r&&!1!==r&&""!==r){var o=r.split(/\s+/);$.each(o,function(o,e){window[e]()})}},success:function(o){if((void 0!==n||void 0!==n&&""!==n||void 0!==n&&"false"!==n)&&window[n](o),void 0!==i||void 0!==i&&""!==i||void 0!==i&&"false"!==i){var e=i.split(/\s+/);$.each(e,function(o,e){window[e]()})}},error:function(o,e,t){void 0!==s||void 0!==s&&""!==s||void 0!==s&&"false"!==s?window[s]():console.log("AJAX request could not be submitted, seem's there's an error occured.")}})})}}else console.log("jQuery is required");