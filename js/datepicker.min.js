void 0!==window.jQuery||window.moment?($.fn.datepicker=function(t){var e=$.extend({format:"MMMM D, YYYY"},t),o=!1,a=function(t,e){for(var o=new Date(t,e-1,1),a=[];o.getMonth()==e-1;)a.push(o.getDate()),o.setDate(o.getDate()+1);return a},s='<select name="months">';$.each([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]],function(t,e){e[1].toUpperCase()===moment().format("MMM").toUpperCase()?s+='<option value="'+e[1]+'" data-month="'+e[0]+'" selected>'+e[1]+"</option>":s+='<option value="'+e[1]+'" data-month="'+e[0]+'">'+e[1]+"</option>"}),s+="</select>";var n='<select name="days">';$.each(a(moment().format("YYYY"),moment().format("M")),function(t,e){var o="0"+e.toString();e===parseInt(moment().format("D"))?n+='<option value="'+o.slice(-2)+'" selected>'+o.slice(-2)+"</option>":n+='<option value="'+o.slice(-2)+'">'+o.slice(-2)+"</option>"}),n+="</select>";var r=this;return this.each(function(){$(this).attr("readonly",!0).addClass("datepicker").wrap('<div class="j-component" data-type="datepicker"></div>');var t=$(this).attr("placeholder");if(void 0!==t&&!1!==t&&""!==t?$(this).attr("placeholder",t):$(this).attr("placeholder","Click to select date"),years='<select name="years">',$(this).hasClass("future")&&void 0!==$(this).attr("data-future")&&""!==$(this).attr("data-future")&&"false"!==$(this).attr("data-future"))for(var c=(new Date).getFullYear(),i=(new moment).add(parseInt($(this).attr("data-future")),"year").format("YYYY"),l=c;l<=parseInt(i);l++)l===parseInt(moment().format("YYYY"))?years+='<option value="'+l+'" selected>'+l+"</option>":years+='<option value="'+l+'">'+l+"</option>";else if($(this).hasClass("past"))for(var c=1930,p=(new Date).getFullYear(),l=c;l<=p;l++)l===parseInt(moment().format("YYYY"))?years+='<option value="'+l+'" selected>'+l+"</option>":years+='<option value="'+l+'">'+l+"</option>";else{for(var c=1930,p=(new Date).getFullYear(),l=c;l<=p;l++)l===parseInt(moment().format("YYYY"))?years+='<option value="'+l+'" selected>'+l+"</option>":years+='<option value="'+l+'">'+l+"</option>";for(var c=(new Date).getFullYear(),i=(new moment).add(15,"year").format("YYYY"),l=c;l<=parseInt(i);l++)l!=parseInt(moment().format("YYYY"))&&(years+='<option value="'+l+'">'+l+"</option>")}years+="</select>",$pos="",void 0!==$(this).attr("data-placement")&&""!=$(this).attr("data-placement")&&($pos=" "+$(this).attr("data-placement")),$(this).after('<div class="component-sub'+$pos+'"><div class="col-xs-4 mt8 p3">'+s+'</div><div class="col-xs-4 mt8 p3">'+n+'</div><div class="col-xs-4 mt8 p3">'+years+'</div><div class="clear"><div class="col-xs-3 mt8 p3"><button class="current">Today</button></div><div class="col-xs-3 mt8 p3"><button class="select">Select</button></div></div></div>'),r.on("click",function(){if(""!==$(this).val()){var t=$(this).val().replace(",","").split(" ");$(this).next(".component-sub").find('select[name="months"] option[value="'+t[0]+'"]').prop("selected",!0).closest("select").trigger("change"),o=t[1],$(this).next(".component-sub").find('select[name="years"] option[value="'+t[2]+'"]').prop("selected",!0).closest("select").trigger("change")}else o=!1;$(this).next(".component-sub").show()}),r.next(".component-sub").find(".select").on("click",function(t){t.preventDefault();var o=void 0!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")?$(this).closest(".component-sub").prev(".datepicker").attr("data-format"):e.format,a=$(this).closest(".component-sub").find('select[name="months"]').val()+" "+$(this).closest(".component-sub").find('select[name="days"]').val()+", "+$(this).closest(".component-sub").find('select[name="years"]').val();$(this).closest(".component-sub").prev(".datepicker").val(moment(a).format(o)).next(".component-sub").hide()}),r.next(".component-sub").find(".current").on("click",function(t){t.preventDefault();var o=void 0!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".component-sub").prev(".datepicker").attr("data-format")?$(this).closest(".component-sub").prev(".datepicker").attr("data-format"):e.format,a=moment().format("MMMM")+" "+moment().format("D")+", "+moment().format("YYYY");$(this).closest(".component-sub").prev(".datepicker").val(moment(a).format(o)).next(".component-sub").hide()}),r.next(".component-sub").find('select[name="months"],select[name="years"]').on("click",function(){if(""!==$(this).val()){var t="";$.each(a($(this).closest(".component-sub").find('select[name="years"]').val(),$(this).closest(".component-sub").find('select[name="months"] option:selected').attr("data-month")),function(e,o){var a="0"+o.toString();t+='<option value="'+a.slice(-2)+'">'+a.slice(-2)+"</option>"}),$(this).closest(".component-sub").find('select[name="days"]').html(t),!1!==o?$(this).closest(".component-sub").find('select[name="days"] option[value="'+o+'"]').prop("selected",!0).closest("select").trigger("change"):$(this).closest(".component-sub").find('select[name="days"] option:first-child').prop("selected",!0).closest("select").trigger("change")}})})},$(document).on("mousedown touchstart",function(t){var e=$(".component-sub:visible");e.is(t.target)||0!==e.has(t.target).length||$(".component-sub").hide()})):console.log("jQuery, momentjs, is required");