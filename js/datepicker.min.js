void 0!==window.jQuery||window.moment?($.fn.datepicker=function(e){var t=$.extend({format:"MMMM D, YYYY"},e),a=!1,s=function(e,t){for(var a=new Date(e,t-1,1),s=[];a.getMonth()==t-1;)s.push(a.getDate()),a.setDate(a.getDate()+1);return s},i='<select name="months">';$.each([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]],function(e,t){t[1].toUpperCase()===moment().format("MMM").toUpperCase()?i+='<option value="'+t[1]+'" data-month="'+t[0]+'" selected>'+t[1]+"</option>":i+='<option value="'+t[1]+'" data-month="'+t[0]+'">'+t[1]+"</option>"}),i+="</select>";var o='<select name="days">';$.each(s(moment().format("YYYY"),moment().format("M")),function(e,t){var a="0"+t.toString();t===parseInt(moment().format("D"))?o+='<option value="'+a.slice(-2)+'" selected>'+a.slice(-2)+"</option>":o+='<option value="'+a.slice(-2)+'">'+a.slice(-2)+"</option>"}),o+="</select>";var r=this;return this.each(function(){$(this).attr("readonly",!0).addClass("datepicker").wrap('<div class="j-component" data-type="datepicker"></div>');var e=$(this).attr("placeholder");if(void 0!==e&&!1!==e&&""!==e?$(this).attr("placeholder",e):$(this).attr("placeholder","Click to select date"),$(this).hasClass("future")&&void 0!==$(this).attr("data-future")&&""!==$(this).attr("data-future")&&"false"!==$(this).attr("data-future")){for(var c=(new Date).getFullYear(),n=(new moment).add(parseInt($(this).attr("data-future")),"year").format("YYYY"),l='<select name="years">',d=c;d<=parseInt(n);d++)d===parseInt(moment().format("YYYY"))?l+='<option value="'+d+'" selected>'+d+"</option>":l+='<option value="'+d+'">'+d+"</option>";l+="</select>"}else{for(var c=1930,p=(new Date).getFullYear(),l='<select name="years">',d=c;d<=p;d++)d===parseInt(moment().format("YYYY"))?l+='<option value="'+d+'" selected>'+d+"</option>":l+='<option value="'+d+'">'+d+"</option>";l+="</select>"}$(this).after('<div class="datepicker-sub"><div class="col-xs-4 mt8 p3">'+i+'</div><div class="col-xs-4 mt8 p3">'+o+'</div><div class="col-xs-4 mt8 p3">'+l+'</div><div class="clear"><div class="col-xs-3 mt8 p3"><button class="current">Today</button></div><div class="col-xs-3 mt8 p3"><button class="select">Select</button></div></div></div>'),r.on("click",function(){if(""!==$(this).val()){var e=$(this).val().replace(",","").split(" ");$(this).next(".datepicker-sub").find('select[name="months"] option[value="'+e[0]+'"]').prop("selected",!0).closest("select").trigger("change"),a=e[1],$(this).next(".datepicker-sub").find('select[name="years"] option[value="'+e[2]+'"]').prop("selected",!0).closest("select").trigger("change")}else a=!1;$(this).next(".datepicker-sub").toggle()}),r.next(".datepicker-sub").find(".select").on("click",function(e){e.preventDefault();var a=void 0!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")?$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format"):t.format,s=$(this).closest(".datepicker-sub").find('select[name="months"]').val()+" "+$(this).closest(".datepicker-sub").find('select[name="days"]').val()+", "+$(this).closest(".datepicker-sub").find('select[name="years"]').val();$(this).closest(".datepicker-sub").prev(".datepicker").val(moment(s).format(a)).next(".datepicker-sub").hide()}),r.next(".datepicker-sub").find(".current").on("click",function(e){e.preventDefault();var a=void 0!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format")?$(this).closest(".datepicker-sub").prev(".datepicker").attr("data-format"):t.format,s=moment().format("MMMM")+" "+moment().format("D")+", "+moment().format("YYYY");$(this).closest(".datepicker-sub").prev(".datepicker").val(moment(s).format(a)).next(".datepicker-sub").hide()}),r.next(".datepicker-sub").find('select[name="months"],select[name="years"]').on("click",function(){if(""!==$(this).val()){var e="";$.each(s($(this).closest(".datepicker-sub").find('select[name="years"]').val(),$(this).closest(".datepicker-sub").find('select[name="months"] option:selected').attr("data-month")),function(t,a){var s="0"+a.toString();e+='<option value="'+s.slice(-2)+'">'+s.slice(-2)+"</option>"}),$(this).closest(".datepicker-sub").find('select[name="days"]').html(e),!1!==a?$(this).closest(".datepicker-sub").find('select[name="days"] option[value="'+a+'"]').prop("selected",!0).closest("select").trigger("change"):$(this).closest(".datepicker-sub").find('select[name="days"] option:first-child').prop("selected",!0).closest("select").trigger("change")}})})},$(document).on("mousedown touchstart",function(e){var t=$(".datepicker-datepicker-sub:visible");t.is(e.target)||0!==t.has(e.target).length||$(".datepicker-sub").hide()})):console.log("jQuery, momentjs, is required");