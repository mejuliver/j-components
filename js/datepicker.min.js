void 0!==window.jQuery||window.moment?($.fn.datepicker=function(t){var e=$.extend({format:"MMMM D, YYYY"},t),s=!1,a=function(t,e){for(var s=new Date(t,e-1,1),a=[];s.getMonth()==e-1;)a.push(s.getDate()),s.setDate(s.getDate()+1);return a},o='<select name="months">';$.each([[1,"Jan"],[2,"Feb"],[3,"Mar"],[4,"Apr"],[5,"May"],[6,"Jun"],[7,"Jul"],[8,"Aug"],[9,"Sep"],[10,"Oct"],[11,"Nov"],[12,"Dec"]],function(t,e){e[1].toUpperCase()===moment().format("MMM").toUpperCase()?o+='<option value="'+e[1]+'" data-month="'+e[0]+'" selected>'+e[1]+"</option>":o+='<option value="'+e[1]+'" data-month="'+e[0]+'">'+e[1]+"</option>"}),o+="</select>";var i='<select name="days">';$.each(a(moment().format("YYYY"),moment().format("M")),function(t,e){var s="0"+e.toString();e===parseInt(moment().format("D"))?i+='<option value="'+s.slice(-2)+'" selected>'+s.slice(-2)+"</option>":i+='<option value="'+s.slice(-2)+'">'+s.slice(-2)+"</option>"}),i+="</select>";var n=this;return this.each(function(){$(this).attr("readonly",!0).addClass("datepicker").wrap('<div class="j-component" data-type="datepicker"></div>');var t=$(this).attr("placeholder");if(void 0!==t&&!1!==t&&""!==t?$(this).attr("placeholder",t):$(this).attr("placeholder","Click to select date"),$(this).hasClass("future")&&void 0!==$(this).attr("data-future")&&""!==$(this).attr("data-future")&&"false"!==$(this).attr("data-future")){for(var r=(new Date).getFullYear(),c=(new moment).add(parseInt($(this).attr("data-future")),"year").format("YYYY"),l='<select name="years">',d=r;d<=parseInt(c);d++)d===parseInt(moment().format("YYYY"))?l+='<option value="'+d+'" selected>'+d+"</option>":l+='<option value="'+d+'">'+d+"</option>";l+="</select>"}else{for(var r=1930,m=(new Date).getFullYear(),l='<select name="years">',d=r;d<=m;d++)d===parseInt(moment().format("YYYY"))?l+='<option value="'+d+'" selected>'+d+"</option>":l+='<option value="'+d+'">'+d+"</option>";l+="</select>"}$(this).after('<div class="sub"><div class="col-xs-4 mt8 p3">'+o+'</div><div class="col-xs-4 mt8 p3">'+i+'</div><div class="col-xs-4 mt8 p3">'+l+'</div><div class="clear"><div class="col-xs-3 mt8 p3"><button class="current">Today</button></div><div class="col-xs-3 mt8 p3"><button class="select">Select</button></div></div></div>'),n.on("click",function(){if(""!==$(this).val()){var t=$(this).val().replace(",","").split(" ");$(this).next(".sub").find('select[name="months"] option[value="'+t[0]+'"]').prop("selected",!0).closest("select").trigger("change"),s=t[1],$(this).next(".sub").find('select[name="years"] option[value="'+t[2]+'"]').prop("selected",!0).closest("select").trigger("change")}else s=!1;$(this).next(".sub").show()}),n.next(".sub").find(".select").on("click",function(t){t.preventDefault();var s=void 0!==$(this).closest(".sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".sub").prev(".datepicker").attr("data-format")?$(this).closest(".sub").prev(".datepicker").attr("data-format"):e.format,a=$(this).closest(".sub").find('select[name="months"]').val()+" "+$(this).closest(".sub").find('select[name="days"]').val()+", "+$(this).closest(".sub").find('select[name="years"]').val();$(this).closest(".sub").prev(".datepicker").val(moment(a).format(s)).next(".sub").hide()}),n.next(".sub").find(".current").on("click",function(t){t.preventDefault();var s=void 0!==$(this).closest(".sub").prev(".datepicker").attr("data-format")&&!1!==$(this).closest(".sub").prev(".datepicker").attr("data-format")&&""!==$(this).closest(".sub").prev(".datepicker").attr("data-format")?$(this).closest(".sub").prev(".datepicker").attr("data-format"):e.format,a=moment().format("MMMM")+" "+moment().format("D")+", "+moment().format("YYYY");$(this).closest(".sub").prev(".datepicker").val(moment(a).format(s)).next(".sub").hide()}),n.next(".sub").find('select[name="months"],select[name="years"]').on("click",function(){if(""!==$(this).val()){var t="";$.each(a($(this).closest(".sub").find('select[name="years"]').val(),$(this).closest(".sub").find('select[name="months"] option:selected').attr("data-month")),function(e,s){var a="0"+s.toString();t+='<option value="'+a.slice(-2)+'">'+a.slice(-2)+"</option>"}),$(this).closest(".sub").find('select[name="days"]').html(t),!1!==s?$(this).closest(".sub").find('select[name="days"] option[value="'+s+'"]').prop("selected",!0).closest("select").trigger("change"):$(this).closest(".sub").find('select[name="days"] option:first-child').prop("selected",!0).closest("select").trigger("change")}})})},$(document).on("mousedown touchstart",function(t){var e=$(".sub:visible");e.is(t.target)||0!==e.has(t.target).length||$(".sub").hide()})):console.log("jQuery, momentjs, is required");