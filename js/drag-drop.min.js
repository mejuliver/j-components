void 0!==window.jQuery||window.moment?$.fn.drag_drop=function(t){function s(t,s){for(var e=0;e<t.length;e++){var i=new FormData;i.append("file",t[e]);var r=new function(t){var s="odd";++a%2==0&&(s="even"),this.statusbar=$("<div class='statusbar"+s+"'></div>"),this.filename=$("<div class='filename'></div>").appendTo(this.statusbar),this.size=$("<div class='filesize'></div>").appendTo(this.statusbar),this.progressBar=$("<div class='progressBar'><div></div></div>").appendTo(this.statusbar),this.abort=$("<div class='abort'>Abort</div>").appendTo(this.statusbar),t.after(this.statusbar),this.setFileNameSize=function(t,s){var e="",a=s/1024;e=parseInt(a)>1024?(a/1024).toFixed(2)+" MB":a.toFixed(2)+" KB",this.filename.html(t),this.size.html(e)},this.setProgress=function(t){var s=t*this.progressBar.width()/100;this.progressBar.find("div").animate({width:s},10).html(t+"%&nbsp;"),parseInt(t)>=100&&this.abort.hide()},this.setAbort=function(t){var s=this.statusbar;this.abort.click(function(){t.abort(),s.hide()})}}(s);r.setFileNameSize(t[e].name,t[e].size),function(t,s,e,a){var i=e,r=$.ajax({xhr:function(){var t=$.ajaxSettings.xhr();return t.upload&&t.upload.addEventListener("progress",function(t){var e=0,a=t.loaded||t.position,i=t.total;t.lengthComputable&&(e=Math.ceil(a/i*100)),s.setProgress(e)},!1),t},url:i,type:"POST",contentType:!1,processData:!1,cache:!1,data:t,success:function(t){s.setProgress(100),a?window[a](t):"function"==typeof file_upload_success?file_upload_success(t):console.log(t)}});s.setAbort(r)}(i,r)}}var e=$.extend({url:!1},t),a=0;return this.each(function(){var t=$(this);t.on("dragenter",function(t){t.stopPropagation(),t.preventDefault(),$(this).css("border","2px solid #0B85A1")}),t.on("dragover",function(t){t.stopPropagation(),t.preventDefault()}),t.on("drop",function(a){$(this).addClass("drop"),a.preventDefault();var i=a.originalEvent.dataTransfer.files;e.url?s(i,t,e.url):s(i,t,t.attr("action"))})})}:console.log("jQuery is required");